# ê°œìš”

ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. í–‰ìœ„ ì£¼ë„ í…ŒìŠ¤íŠ¸(Behavior Driven Test)ê°€ ëŒ€ë‘ ë˜ë©´ì„œ ê°™ì´ ì£¼ëª© ë°›ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” jestì™€ ê°™ì´ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‹¤ì œ DOM ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ í•œë‹¤ëŠ” ê²ƒì´ ê°€ì¥ í° íŠ¹ì§•ì…ë‹ˆë‹¤. ì´ëŠ” ì‹¤ì œ ì‚¬ìš©ìê°€ ë³´ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ í™˜ê²½ê³¼ ë¹„ìŠ·í•  ìˆ˜ë¡ ì‹ ë¢°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ íŠ¹ì§•ì„ í•œëˆˆì— ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

## íŠ¹ì§•

- **ì‹¤ì œ DOM ë…¸ë“œ í™˜ê²½ì„ ì‚¬ìš©í•œë‹¤.** ì‹¤ì œ DOM ë…¸ë“œ í™˜ê²½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œê±´ react-domì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ìœ„ì—ì„œ ì„¤ëª…í•œ ëŒ€ë¡œ ì‚¬ìš©ìê°€ ê²½í—˜í•˜ëŠ” ìƒí™©ê³¼ ë¹„ìŠ·í•˜ê²Œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì‚¬ìš©ì ê´€ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤.** í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë• propsë‚˜ stateê°’ì´ ë³€ê²½ë˜ëŠ” ê²ƒì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ëŠ” ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ë³´ëŠ” DOMì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê°€ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš©ìê°€ ë³´ê³  í–‰ë™í•˜ëŠ” ì‘ì—…ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ìœ„ì£¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼ í•œë‹¤ëŠ” í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì„¤ê³„ ì´ë…ê³¼ ì˜ ë§ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê¸°ëŠ¥ë“¤ì„ ë³´ë©´ ì‚¬ìš©ìê°€ DOMì„ ì‚¬ìš©í•  ë•Œë‘ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë“¤ì´ ì œê³µë©ë‹ˆë‹¤.

# ê¸°ë³¸ ê°œë…

í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ê¸°ë³¸ì ìœ¼ë¡œ ì•Œì•„ì•¼ í•  ì£¼ìš” ê°œë…ë“¤ì„ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

## describe

í…ŒìŠ¤íŠ¸ ë¬¶ìŒ ë‹¨ìœ„ì…ë‹ˆë‹¤. ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ ë¬¶ì–´ì„œ ê·¸ë£¹ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## test & it

í…ŒìŠ¤íŠ¸ ë‹¨ìœ„ì…ë‹ˆë‹¤. ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. testì™€ itì— ê¸°ëŠ¥ ë° ì„±ëŠ¥ì— ëŒ€í•œ ì°¨ì´ì ì€ ì—†ìŠµë‹ˆë‹¤.

## render

í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì»´í¬ë„ŒíŠ¸ë¥¼ DOMì— ë Œë”ë§í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

## expect

ê°’ì„ ê²€ì¦í•  ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤.

## getBy~

DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

## queryBy~

getByì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜í•©ë‹ˆë‹¤.

## findBy~

getByì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. ìš”ì†Œê°€ ë°œê²¬ë˜ë©´ Promiseë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ìš”ì†Œê°€ ë°œê²¬ë˜ì§€ ì•Šê±°ë‚˜ ê¸°ë³¸ ì œí•œ ì‹œê°„ì¸ 1000msê°€ ì´ˆê³¼ë˜ë©´ Promiseê°€ ê±°ë¶€ë©ë‹ˆë‹¤.

## waitFor

íŠ¹ì • ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë¦´ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. íƒ€ì„ ì•„ì›ƒì— ë„ë‹¬í•  ë•Œê¹Œì§€ ì½œë°±ì„ ì •í•´ì§„ ìˆ«ì ë§Œí¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

## **waitForElementToBeRemoved**

DOMì—ì„œ Elementê°€ ì œê±° ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦´ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

## fireEvent

ì‚¬ìš©ì ì•¡ì…˜ í•¨ìˆ˜ì…ë‹ˆë‹¤. DOMì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒ ì‹œí‚¤ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤. `@testing-library/user-event` ì—ì„œ importí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## createEvent

ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

## only

í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ only()ê°€ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìˆìœ¼ë©´ ì˜¤ì§ ê·¸ ì¼€ì´ìŠ¤ë§Œ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.

```jsx
test.only("run only", () => {
  // ì´ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë§Œ ì‹¤í–‰ë¨
});

test("not run", () => {
  // ì‹¤í–‰ ì•ˆë¨
});
```

## skip

í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ skip()ê°€ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ ëŒ€ìƒì—ì„œ ì œì™¸í•©ë‹ˆë‹¤.

```jsx
test.skip("skip", () => {
  // ì´ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ëŠ” ì œì™¸ë¨
});

test("run", () => {
  // ì‹¤í–‰ë¨
});
```

<aside>
ğŸ’¡ ë” ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

[About Queries | Testing Library](https://testing-library.com/docs/queries/about)

</aside>

# í™˜ê²½ êµ¬ì¶•

CRA í™˜ê²½ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ í™˜ê²½ì„ êµ¬ì¶•í•œ ê²½ìš°, í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ê°™ì´ ì„¤ì¹˜ë©ë‹ˆë‹¤. ì—¬ê¸°ì„  CRAê°€ ì•„ë‹Œ ê¸°ì¡´ ë¦¬ì•¡íŠ¸ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ê¸°ìˆ í•˜ê² ìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë ¤ë©´ ì•„ë˜ì—ì„œ í™˜ê²½ì— ë§ê²Œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. 

## React í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•í•˜ê¸°

ì•„ë˜ ëª…ì‹œëœ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

- @testing-library/react
- @testing-library/user-event
- @testing-library/jest-dom

<aside>
ğŸ’¡ í•œë²ˆì— ì„¤ì¹˜í•˜ê¸°
npm :

```powershell
npm install @testing-library/react @testing-library/user-event @testing-library/jest-dom
```

yarn :

```powershell
yarn add @testing-library/react @testing-library/user-event @testing-library/jest-dom
```

</aside>

ì´ì œ xxx.test.js ë˜ëŠ” xxx.test.jsx íŒŒì¼ì„ ë§Œë“  í›„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Typescript í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•í•˜ê¸°

[React í™˜ê²½ì— í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•í•˜ê¸°](https://www.notion.so/Testing-Library-c2e0fc72d61c45e0a39b2cb5d6a40bef) ì„¹ì…˜ì—ì„œ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ëª¨ë‘ ì„¤ì¹˜í•œ í›„ ì¶”ê°€ë¡œ ì•„ë˜ ëª…ì‹œëœ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

- @types/jest

<aside>
ğŸ’¡ ì„¤ì¹˜í•˜ê¸°
npm :

```powershell
npm install @types/jest
```

yarn :

```powershell
yarn add @types/jest
```

</aside>

ì´ì œ xxx.test.ts ë˜ëŠ” xxx.test.tsx íŒŒì¼ì„ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ ë©ë‹ˆë‹¤.

## í…ŒìŠ¤íŠ¸ íŒŒì¼ ì¸ì‹

í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë ¤ë©´ ì¼ë°˜ íŒŒì¼ê³¼ í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ êµ¬ë¶„í•˜ì—¬ ë§Œë“¤ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ë‘ íŒŒì¼ì„ êµ¬ë¶„í•˜ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. 

1. **íŒŒì¼ëª…ì— test ë¶™ì´ê¸°** : íŒŒì¼ëª…ê³¼ í™•ì¥ì ì‚¬ì´ì— testë¥¼ ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ íŒŒì¼ë¡œ ì¸ì‹ë©ë‹ˆë‹¤. (ì˜ˆì‹œ: xxx.test.jsx)
2. **`__test__` í´ë” ë§Œë“¤ê¸°** : í…ŒìŠ¤íŠ¸ í´ë”ë¥¼ ë§Œë“¤ì–´ ëª¨ì•„ë‘˜ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. `__test__` ì´ ì´ë¦„ì˜ í´ë”ê°€ ìˆìœ¼ë©´ í•˜ìœ„ íŒŒì¼ë“¤ì„ ëª¨ë‘ í…ŒìŠ¤íŠ¸ íŒŒì¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤.

# ëª…ë ¹ì–´

`npm test` ë˜ëŠ” `yarn test` ë¥¼ ì…ë ¥í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. test ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•  ë•Œ íŠ¹ë³„í•œ ì˜µì…˜ì„ ë¶™ì—¬ì„œ í¸ë¦¬í•˜ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## íŠ¹ì • íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸í•˜ê¸°

ê²½ìš°ì— ë”°ë¼ íŠ¹ì • ì´ë¦„ì„ ê°€ì§„ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

í•œ ê°€ì§€ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ íŒŒì¼ ëª…ì„ ê°™ì´ ì…ë ¥í•©ë‹ˆë‹¤.

```powershell
npm test src/pages/std/factory.test.tsx
```

íŒŒì¼ ëª…ìœ¼ë¡œ íŒ¨í„´ì„ ê±¸ëŸ¬ë©´ `--`ì˜µì…˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```powershell
npm test -- factory
```

ì´ëŸ¬ë©´ ì´ë¦„ì— factoryê°€ ë“¤ì–´ê°„ í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤ì„ ëª¨ë‘ ì‹¤í–‰í•©ë‹ˆë‹¤.

ì•„ë‹ˆë©´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ ì¤‘ì¼ ë•Œ íŒ¨í„´ì„ ê±¸ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```powershell
Test Suites: 16 passed, 16 total
Tests:       98 passed, 98 total
Snapshots:   0 total
Time:        5.048s
Ran all test suites.

Watch Usage: Press w to show more.
```

ì´ ìƒí™©ì—ì„œ `w`ë¥¼ ëˆŒëŸ¬ ë©”ë‰´ë¥¼ ì—½ë‹ˆë‹¤.

```powershell
Watch Usage
 â€º Press f to run only failed tests.
 â€º Press o to only run tests related to changed files.
 â€º Press q to quit watch mode.
 â€º Press p to filter by a filename regex pattern.
 â€º Press t to filter by a test name regex pattern.
 â€º Press Enter to trigger a test run.
```

ì—¬ê¸°ì„œ `p`ë¥¼ ëˆ„ë¥´ë©´ íŒŒì¼ ëª…ìœ¼ë¡œ íŒ¨í„´ì„ ê±¸ ìˆ˜ ìˆê³ , `t`ë¥¼ ëˆ„ë¥´ë©´ í…ŒìŠ¤íŠ¸ ëª…ìœ¼ë¡œ íŒ¨í„´ì„ ê±¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸í•˜ê² ë‹¤ê³  ê°€ì •í•˜ê³  `p`ë¥¼ ëˆŒëŸ¬ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```powershell
Pattern Mode Usage
 â€º Press Esc to exit pattern mode.
 â€º Press Enter to filter by a filenames regex pattern.

 pattern â€º

 Start typing to filter by a filename regex pattern.
```

ê±¸ê³  ì‹¶ì€ íŒ¨í„´ì„ ì…ë ¥í•©ë‹ˆë‹¤.

```jsx
Pattern Mode Usage
 â€º Press Esc to exit pattern mode.
 â€º Press Enter to filter by a filenames regex pattern.

 pattern â€º std/factory

 Pattern matches 1 file
 â€º src/pages/std/factory.test.jsx
```

ì´ë ‡ê²Œ ì…ë ¥í•˜ë©´ std í´ë”ì— ìˆëŠ” factoryë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ íŒŒì¼ë“¤ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.

## ê°ì‹œ ê¸°ì¤€ ì •í•˜ê¸°

í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ `--watch` ì˜µì…˜ê³¼ `--watchAll` ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `--watch`ëŠ” íŒŒì¼ì— ë³€ê²½ì´ ë°œìƒí•˜ë©´ ê·¸ íŒŒì¼ë§Œ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì˜µì…˜ì´ê³  `--watchAll`ëŠ” ëª¨ë“  íŒŒì¼ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. ìƒí™©ì— ë§ì¶° ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

```powershell
npm test --watch
npm test --watchAll
```

# ë°˜ë³µë˜ëŠ” êµ¬ë¬¸ ì„¤ì •í•˜ê¸°

í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë‹¤ ë³´ë©´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§ˆë‹¤ ë°˜ë³µë˜ëŠ” êµ¬ë¬¸ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° `beforeEach()` ì™€ `afterEach()`ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê¸° ì „, ë˜ëŠ” í›„ì— ê°™ì€ êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**before**

```jsx
test("find all users", () => {
  data.users.push(
    { id: 1, email: "user1@test.com" },
    { id: 2, email: "user2@test.com" },
    { id: 3, email: "user3@test.com" }
  );

  const users = userService.findAll();

  expect(users).toHaveLength(3);
  expect(users).toContainEqual({ id: 1, email: "user1@test.com" });
  expect(users).toContainEqual({ id: 2, email: "user2@test.com" });
  expect(users).toContainEqual({ id: 3, email: "user3@test.com" });
});

test("destory a user", () => {
  data.users.push(
    { id: 1, email: "user1@test.com" },
    { id: 2, email: "user2@test.com" },
    { id: 3, email: "user3@test.com" }
  );

  const id = 3;
  const user = data.users.find((user) => user.id === id);

  userService.destroy(id);

  expect(data.users).toHaveLength(2);
  expect(data.users).not.toContainEqual(user);
});
```

**after**

```jsx
beforeEach(() => {
  data.users.push(
    { id: 1, email: "user1@test.com" },
    { id: 2, email: "user2@test.com" },
    { id: 3, email: "user3@test.com" }
  );
});

test("find all users", () => {
  const users = userService.findAll();

  expect(users).toHaveLength(3);
  expect(users).toContainEqual({ id: 1, email: "user1@test.com" });
  expect(users).toContainEqual({ id: 2, email: "user2@test.com" });
  expect(users).toContainEqual({ id: 3, email: "user3@test.com" });
});

test("destory a user", () => {
  const id = 3;
  const user = data.users.find((user) => user.id === id);

  userService.destroy(id);

  expect(data.users).toHaveLength(2);
  expect(data.users).not.toContainEqual(user);
});
```

# act()ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒDOMì— ì ìš©í•˜ê¸°

`act()`ëŠ” ì¸ì ê°’ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œ DOMì— ì ìš©ì‹œí‚µë‹ˆë‹¤. `act()` ì´í›„ì— ì‘ì„±ë˜ëŠ” êµ¬ë¬¸ë“¤ì€ ì´ë¯¸ DOMì— `act()`ì˜ ì¸ìê°€ ì‹¤í–‰ë˜ì—ˆë‹¤ê³  ê°€ì •í•˜ê³  ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.

```jsx
test('í…ŒìŠ¤íŠ¸', () => {
  act(() => {
    // DOMì— ë°˜ì˜í•˜ê³  ì‹¶ì€ ì½”ë“œë“¤
    // ì˜ˆ. ReactDOM.render(<Counter />, container);
  });
  
	// `DOMì— ë°˜ì˜í•˜ê³  ì‹¶ì€ ì½”ë“œë“¤`ì´ DOMì— ë°˜ì˜ë˜ì—ˆë‹¤ê³  ê°€ì •í•˜ê³  í…ŒìŠ¤íŠ¸í•  ì½”ë“œë“¤...
});
```

# ë¬´ë£Œ ììŠµì„œ

[í…ŒìŠ¤íŒ… ê°œìš” - React](https://ko.reactjs.org/docs/testing.html)

[[ë²ˆì—­] ì´ˆë³´ìë¥¼ ìœ„í•œ React ì–´í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸ ì‹¬ì¸µ ê°€ì´ë“œ (1)](https://blog.rhostem.com/posts/2020-10-14-beginners-guide-to-testing-react-1)
